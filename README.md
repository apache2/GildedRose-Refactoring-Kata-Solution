## Выбор языка и фреймворка для тестирования
Из списка доступных языков я выбрал `ruby`, тесты писал для `RSpec`
[rspec](http://rspec.info/).

### Запуск тестов Rspec
```
rspec ruby/gilded_rose_spec.rb
```
Также есть возможность проверить работоспособность кода через
TextTest.

## О рефакторинге

Использовался паттерн `стратегия` для того, чтобы сделать код проще
для дальнейшей поддержки и модификации. Классы, реализующие конкретные
стратегии инкапсулируют поведение `Item` при вызове
`update_quality`. Каждый класс стратегии должен определяться в файле в
директории `ruby/degradation/`, и должен быть наследником
`DegradationStrategy`. Чтобы изменить поведение инкрементирования
`@sell_in` и `@quality`, класс может переопределить метод `degrade`.

В классе `DegradationStrategy` определен статический метод
`register_strategy`, он принимает как аргумент класс конкретной
стратегии и блок, который используется для проверки, подходит ли этот
класс стратегии для конкретного экземпляра `Item`. Этот блок
иcпользуется методом `determine` для поиска стратегии с указанным
`Item`. При таком подходе становится важным в каком порядке стратегии
были определены в исходном коде. Те, которые определены раньше,
соответственно, раньше регистрируются, имеют больший приоритет. Для
контроля за приоритетностью стратегий необходимо именовать файлы в
директории `ruby/degradation/` с числовым префиксом от 00
до 99. Меньший префикс означает больший приоритет.

Таким образом, добавление нового поведения для товара не подразумевает
правку существующего кода, необходимо определить класс стратегии и
блок кода, который решает каким типам товаров относится этот
класс. Ниже пример стратегии, которая определяет поведение
«магических» товаров.

`ruby/degradation/50_degradation_strategy_conjured.rb`
```
class DegradationStrategyConjured < DegradationStrategy
  def degrade(sell_in, quality)
    sell_in -= 1
    quality -= (sell_in < 0 ? 4 : 2)
    quality = 0 if quality < 0
    quality = 50 if quality > 50

    [sell_in, quality]
  end

  register_strategy(self) do |item|
    item.name == "Conjured Mana Cake" ? true : false
  end
end
```


